{% extends "platform_admin/base.html" %}

{% block title %}Edit {{ tenant.name }}{% endblock %}

{% block content %}
<div class="mb-6">
    <a href="{% url 'platform_admin:tenant_detail' tenant.pk %}" class="text-platform-400 hover:text-platform-300 text-sm">
        ‚Üê Back to {{ tenant.name }}
    </a>
</div>

<div class="mb-6">
    <h1 class="text-2xl font-bold text-white">Edit Tenant</h1>
    <p class="text-gray-400">Update subscription and limits for {{ tenant.name }}</p>
</div>

<form method="post" class="max-w-2xl">
    {% csrf_token %}

    <div class="bg-gray-800 border border-gray-700 rounded-lg p-6 mb-6">
        <h2 class="text-lg font-semibold text-white mb-4">Subscription Settings</h2>

        <div class="space-y-4">
            <div>
                <label class="block text-sm text-gray-400 mb-1">Plan</label>
                <select name="plan" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:border-platform-500">
                    {% for value, label in plan_choices %}
                    <option value="{{ value }}" {% if tenant.plan == value %}selected{% endif %}>{{ label }}</option>
                    {% endfor %}
                </select>
            </div>

            <div>
                <label class="block text-sm text-gray-400 mb-1">Subscription Status</label>
                <select name="subscription_status" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:border-platform-500">
                    {% for value, label in status_choices %}
                    <option value="{{ value }}" {% if tenant.subscription_status == value %}selected{% endif %}>{{ label }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </div>

    <div class="bg-gray-800 border border-gray-700 rounded-lg p-6 mb-6">
        <h2 class="text-lg font-semibold text-white mb-4">Usage Limits</h2>

        <div class="grid grid-cols-2 gap-4">
            <div>
                <label class="block text-sm text-gray-400 mb-1">Vehicle Limit</label>
                <input type="number" name="vehicle_limit" value="{{ tenant.vehicle_limit }}" min="1"
                       class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:border-platform-500">
            </div>

            <div>
                <label class="block text-sm text-gray-400 mb-1">User Limit</label>
                <input type="number" name="user_limit" value="{{ tenant.user_limit }}" min="1"
                       class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:border-platform-500">
            </div>
        </div>
    </div>

    <div class="flex items-center justify-end space-x-4">
        <a href="{% url 'platform_admin:tenant_detail' tenant.pk %}"
           class="px-4 py-2 text-gray-400 hover:text-gray-300">
            Cancel
        </a>
        <button type="submit" class="px-6 py-2 bg-platform-600 text-white rounded hover:bg-platform-700">
            Save Changes
        </button>
    </div>
</form>
{% endblock %}
