{% extends 'base.html' %}

{% block title %}Contracts - FleetFlow{% endblock %}

{% block content %}
<div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900">Contracts</h1>
</div>

<!-- Contract List -->
<div class="bg-white rounded-lg shadow overflow-hidden">
    <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
            <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Contract #</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Customer</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Vehicle</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Date</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
            </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
            {% for contract in contracts %}
            <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 font-medium">{{ contract.contract_number }}</td>
                <td class="px-6 py-4">{{ contract.reservation.customer }}</td>
                <td class="px-6 py-4">{{ contract.reservation.vehicle }}</td>
                <td class="px-6 py-4">
                    <span class="px-2 py-1 rounded text-xs font-medium
                        {% if contract.status == 'signed' %}bg-green-100 text-green-800
                        {% elif contract.status == 'pending_signature' %}bg-yellow-100 text-yellow-800
                        {% else %}bg-gray-100 text-gray-800{% endif %}">
                        {{ contract.get_status_display }}
                    </span>
                </td>
                <td class="px-6 py-4">{{ contract.created_at|date:"M d, Y" }}</td>
                <td class="px-6 py-4">
                    <a href="/dashboard/contracts/{{ contract.pk }}/" class="text-blue-600 hover:underline mr-3">View</a>
                    <a href="/dashboard/contracts/{{ contract.pk }}/pdf/" class="text-gray-600 hover:underline">PDF</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="px-6 py-4 text-center text-gray-500">No contracts found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
